<!--<app-header></app-header>-->
<app-navbar></app-navbar>

<section class="register-sec wrap-box">
  <div class="register-box">
    <div class="title">
      用户注册
    </div>


    <div class="main form" [formGroup]="registerForm">
      <div class="form-field">
        <label class="name">
          <span>*</span>用户名：
        </label>
        <span>
          <input placeholder="请输入用户名" formControlName="firstname" (blur)="showErr('fname')" maxlength="60">
          <div class="wrong" *ngIf="fname">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{fname}}</span>
        </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>用户姓名：
        </label>
        <span>
          <input placeholder="请输入用户姓名" formControlName="lastname" (blur)="showErr('lname')" maxlength="60">
          <div class="wrong" *ngIf="lname">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{lname}}</span>
        </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>密码：
        </label>
        <span>
          <input placeholder="请输入密码" formControlName="pwd1" [type]="!isOpenEyesShow1 ? 'text' : 'password'" (blur)="showErr('pwd1')" maxlength="15">
          <div class="btn-group" [class.issafari]="isSafari">
            <button class="eye-btn" *ngIf="!isOpenEyesShow1" (click)="isOpenEyesShow1 = true">
              <img class="icon-open-eyes" src="../../../assets/icon/open.svg" />
            </button>
            <button class="eye-btn" *ngIf="isOpenEyesShow1" (click)="isOpenEyesShow1 = false">
              <img class="icon-close-eyes" src="../../../assets/icon/hidden.svg" />
            </button>
          </div>
          <div class="wrong" *ngIf="errPwd1">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{errPwd1}}</span>
        </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>重复密码：
        </label>
        <span>
          <input placeholder="请输入手机号" formControlName="pwd2" [type]="!isOpenEyesShow2 ? 'text' : 'password'" (blur)="showErr('pwd2')" maxlength="15">
          <div class="btn-group" [class.issafari]="isSafari">
            <button class="eye-btn" *ngIf="!isOpenEyesShow2" (click)="isOpenEyesShow2 = true" >
              <img class="icon-open-eyes" src="../../../assets/icon/open.svg" />
            </button>
            <button class="eye-btn"*ngIf="isOpenEyesShow2" (click)="isOpenEyesShow2 = false" >
              <img class="icon-close-eyes" src="../../../assets/icon/hidden.svg" />
            </button>
          </div>
          <div class="wrong" *ngIf="errPwd2">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{errPwd2}}</span>
        </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>手机号：
        </label>
        <span>
          <input placeholder="Please enter" formControlName="school" (blur)="showErr('school')" maxlength="60">
          <div class="wrong" *ngIf="errSchool">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{errSchool}}</span>
          </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>验证码：
        </label>
        <span>
          <input placeholder="Please enter" formControlName="code" type="text" (blur)="showErr('code')">
          <button class="obtain" [disabled]="!registerForm.value.email || errEmail" (click)="getCode()"><span *ngIf="!isCounting">获取验证码</span><span *ngIf="isCounting">{{count}}</span></button>
          <div class="wrong" *ngIf="errCode">
            <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
            <span>{{errCode}}</span>
          </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>邮箱：
        </label>
        <span>
          <input placeholder="Please enter" formControlName="email" type="email" (keyup)="showErr('email')">
          <div class="wrong" *ngIf="errEmail">
            <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
            <span>{{errEmail}}</span>
          </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>性别：
        </label>
        <span>
          <input type="radio" value="man" name="sex" checked="true"> 男
          <input type="radio" value="woman" name="sex"> 女
          <div class="wrong" *ngIf="errEmail">
            <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
            <span>{{errEmail}}</span>
          </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>所属领域：
        </label>
        <span>
          <select formControlName="prefix" (change)="showErr('prefix')">
            <option disabled value="">
              请选择所属领域
            </option>
            <option value="Dr">
              Dr.
            </option>
            <option value="Mr">
              Mr.
            </option>
            <option value="Mrs">
              Mrs.
            </option>
            <option value="Ms">
              Ms.
            </option>
            <option value="Rev">
              Rev.
            </option>
          </select>
          <div class="wrong" *ngIf="errPrefix">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{errPrefix}}</span>
        </div>
        </span>
      </div>
      <div class="form-field">
        <label class="name">
          <span>*</span>单位名称：
        </label>
        <span>
          <input placeholder="请输入单位名称" formControlName="school" (blur)="showErr('school')" maxlength="60">
          <div class="wrong" *ngIf="errSchool">
          <img class="wromg-img" src="../../../assets/icon/wrong.svg" />
          <span>{{errSchool}}</span>
          </div>
        </span>
      </div>
    </div>

    <div class="submit" >
      <button type="button" [disabled]="!this.registerForm.value.email" (click)="onSubmit()">
        注册
      </button>
    </div>

    <div class="rules">
      点击注册按钮，表示您已经同意我们的<span>《服务条款》</span>
    </div>
  </div>
</section>

