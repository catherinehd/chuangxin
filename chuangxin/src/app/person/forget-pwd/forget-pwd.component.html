<section class="register-sec forgetpwd-sec wrap">
  <div class="register-sec-box">
  <div class="register-box forgetpwd-sec-box">
    <div class="register-title forgetpwd-title">
      忘记密码
    </div>
    <div class="register-form forgetpwd-form">
      <div class="form-field">
        <span>
          手机号：
        </span>
        <span>
          <input #phone placeholder="请输入手机号" (keyup)="setValue(phone.value)" (blur)="test('phone', phone.value)">
        </span>
        <span class="warn" *ngIf="errphone">
          <i class="icon-tishi"></i>
        {{errphone}}
      </span>
        <span class="success" *ngIf="successphone">
          <i class="icon-zhengque"></i>
      </span>
      </div>
      <div class="form-field">
        <span>
          验证码：
        </span>
        <span>
          <input #code placeholder="请输入验证码" (blur)="test('code', code.value)">
          <button class="code-btn" (click)="getcode()" [disabled]="!phone.value">
            <span *ngIf="!iscounting">获取验证码</span>
            <span *ngIf="iscounting">{{count}}</span>
        </button>
        </span>
        <span class="warn" *ngIf="errcode">
          <i class="icon-tishi"></i>
        {{errcode}}
      </span>
        <span class="success" *ngIf="successcode">
        <i class="icon-zhengque"></i>
      </span>
      </div>
      <div class="form-field">
        <span>
          密码：
        </span>
        <span>
        <input #pwd1 [type]="showpwd ? 'text' : 'password'" placeholder="请输入密码" (blur)="test('pwd1', pwd1.value)">
          <i class="icon-xianshi pwd-icon" [class.icon-active]="showpwd" (click)="showpwd = !showpwd"></i>
      </span>
        <span class="warn" *ngIf="errpwd1">
          <i class="icon-tishi"></i>
        {{errpwd1}}
      </span>
        <span class="success" *ngIf="successpwd1">
        <i class="icon-zhengque"></i>
      </span>
      </div>
      <div class="form-field">
        <span>
          重复密码：
        </span>
        <span>
        <input #pwd2 [type]="showpwd2 ? 'text' : 'password'" [disabled]="!pwd1.value" placeholder="请再次输入密码" (blur)="test('pwd2', pwd2.value)">
          <i class="icon-xianshi pwd-icon" [class.icon-active]="showpwd2" (click)="showpwd2 = !showpwd2" ></i>
      </span>
        <span class="warn" *ngIf="errpwd2">
          <i class="icon-tishi"></i>
        {{errpwd2}}
      </span>
        <span class="success" *ngIf="successpwd2">
        <i class="icon-zhengque"></i>
      </span>
      </div>
    </div>

    <div class="submit-btn-box">
      <button (click)="submit()" [disabled]="!phone.value || !code.value || !pwd1.value || !pwd2.value">重置</button>
    </div>
  </div>
  </div>
</section>

<app-modal [msg]="msg" *ngIf="msg"></app-modal>

<app-pop [popmodal]="popmodal" (closePop)="closePop()" ></app-pop>
